<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Abort Simulation</title>
    <script>
        function triggerDnsErrorRequest() {
            const xhr = new XMLHttpRequest();

            // DNS error simulation
            xhr.open('GET', 'https://www.chethanpatel.com', true);

            const abortTimeout = setTimeout(() => {
                console.log('DNS Error Request aborted.');
                xhr.abort();
            }, 2000);

            xhr.onreadystatechange = () => {
                if (xhr.readyState === 4) {
                    console.log('DNS Error Request completed (should not happen).');
                    clearTimeout(abortTimeout);
                }
            };

            xhr.onerror = () => {
                console.error('DNS Error Request encountered an error.');
                clearTimeout(abortTimeout);
            };

            console.log('Sending DNS Error Request...');
            xhr.send();
        }

        function triggerConnectErrorRequest() {
            const xhr = new XMLHttpRequest();

            // Connection error simulation (domain)
            xhr.open('GET', 'https://www.amazon.com:81', true);

            const abortTimeout = setTimeout(() => {
                console.log('Connect Error Request aborted.');
                xhr.abort();
            }, 2000);

            xhr.onreadystatechange = () => {
                if (xhr.readyState === 4) {
                    console.log('Connect Error Request completed (should not happen).');
                    clearTimeout(abortTimeout);
                }
            };

            xhr.onerror = () => {
                console.error('Connect Error Request encountered an error.');
                clearTimeout(abortTimeout);
            };

            console.log('Sending Connect Error Request...');
            xhr.send();
        }

        function triggerConnectErrorWithIP() {
            const xhr = new XMLHttpRequest();

            // Connection error simulation (IP)
            xhr.open('GET', 'https://192.168.128.111:81', true);

            const abortTimeout = setTimeout(() => {
                console.log('Connect Error (IP) Request aborted.');
                xhr.abort();
            }, 2000);

            xhr.onreadystatechange = () => {
                if (xhr.readyState === 4) {
                    console.log('Connect Error (IP) Request completed (should not happen).');
                    clearTimeout(abortTimeout);
                }
            };

            xhr.onerror = () => {
                console.error('Connect Error (IP) Request encountered an error.');
                clearTimeout(abortTimeout);
            };

            console.log('Sending Connect Error (IP) Request...');
            xhr.send();
        }
    </script>
</head>
<body>
    <h1>Request Abort Simulation</h1>
    <button onclick="triggerDnsErrorRequest()">Trigger DNS Error Request</button>
    <button onclick="triggerConnectErrorRequest()">Trigger Connect Error Request</button>
    <button onclick="triggerConnectErrorWithIP()">Trigger Connect Error with IP</button>
    <p>Click the buttons to simulate requests with DNS or connection failures and manual abort.</p>
</body>
</html>
