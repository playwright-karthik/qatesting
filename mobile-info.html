<script>
  const ua = navigator.userAgent;

  const devicesList = [
    "BlackBerryZ30", "DroidRazrHD",
    "Galaxy S20", "Galaxy S20 Plus", "Galaxy S20 Ultra",
    "Galaxy S21", "Galaxy S21 Plus", "Galaxy S21 Ultra",
    "Galaxy S22", "Galaxy S22 Plus", "Galaxy S22 Ultra",
    "Galaxy S23", "Galaxy S23 Ultra",
    "Galaxy S9", "Galaxy S9 Plus",
    "GalaxyNote", "GalaxyS4", "GalaxyS6", "GalaxyS8", "GalaxyTab",
    "Google Pixel", "Google Pixel 4", "Google Pixel 4 XL", "Google Pixel 5",
    "Google Pixel 6", "Google Pixel 6 Pro", "Google Pixel 7", "Google Pixel 7 Pro",
    "HTCOneX", "iPad2", "iPadMini", "iPhone", "iPhone 15", "iPhone5", "iPhone6",
    "iPhone6S", "iPhone7", "KindleFire", "LGOptimusG", "Nexus4", "Nexus6", "Nexus7",
    "NokiaLumia920"
  ];

  function detectEmulatedDevice(ua) {
    const normalizedUA = ua.replace(/\s+/g, "").toLowerCase();
    for (const device of devicesList) {
      const deviceKey = device.replace(/\s+/g, "").toLowerCase();
      if (normalizedUA.includes(deviceKey)) {
        return device;
      }
    }
    return "Not Identified";
  }

  function getDeviceType(ua) {
    if (/android/i.test(ua)) return "Android Device";
    if (/iPhone/i.test(ua)) return "iPhone";
    if (/iPad|Tablet/i.test(ua)) return "iPad or Tablet";
    if (/Mobile/i.test(ua)) return "Mobile Phone";
    if (/Windows|Macintosh|Linux/i.test(ua)) return "Laptop/Desktop";
    return "Unknown Device";
  }

  function getBrowserInfo(ua) {
    let match =
      ua.match(/Edg\/([\d\.]+)/) ? ["Edge", ua.match(/Edg\/([\d\.]+)/)[1]] :
      ua.match(/Chrome\/([\d\.]+)/) ? ["Chrome", ua.match(/Chrome\/([\d\.]+)/)[1]] :
      ua.match(/Firefox\/([\d\.]+)/) ? ["Firefox", ua.match(/Firefox\/([\d\.]+)/)[1]] :
      ua.match(/Version\/([\d\.]+).*Safari/) ? ["Safari", ua.match(/Version\/([\d\.]+).*Safari/)[1]] :
      ["Unknown", ""];
    return `${match[0]} ${match[1]}`;
  }

  function getOSInfo(ua) {
    if (/Windows NT 10\.0/.test(ua)) return "Windows 10";
    if (/Windows NT 11/.test(ua)) return "Windows 11";
    if (/Mac OS X 10_[\d_]+/.test(ua)) return "macOS " + ua.match(/Mac OS X ([\d_]+)/)[1].replace(/_/g, ".");
    if (/Android [\d.]+/.test(ua)) return "Android " + ua.match(/Android ([\d.]+)/)[1];
    if (/iPhone OS [\d_]+/.test(ua)) return "iOS " + ua.match(/iPhone OS ([\d_]+)/)[1].replace(/_/g, ".");
    if (/iPad; CPU OS [\d_]+/.test(ua)) return "iPadOS " + ua.match(/CPU OS ([\d_]+)/)[1].replace(/_/g, ".");
    if (/Linux/.test(ua)) return "Linux";
    return "Unknown OS";
  }

  function appendInfo(label, value) {
    const p = document.createElement("p");
    p.className = "info";
    p.textContent = `${label}: ${value}`;
    document.querySelector(".container").appendChild(p);
  }

  // Collect data
  const width = window.innerWidth;
  const height = window.innerHeight;
  const devicePixelRatio = window.devicePixelRatio || 1;
  const orientation = screen.orientation?.type || (width > height ? "landscape" : "portrait");
  const touchSupport = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
  const coarsePointer = window.matchMedia("(pointer: coarse)").matches;
  const hoverCapable = window.matchMedia("(hover: hover)").matches;
  const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;

  // Display info
  document.getElementById('device-type').textContent = `Device Type: ${getDeviceType(ua)}`;
  document.getElementById('viewport').textContent = `Viewport: ${width}px x ${height}px`;
  document.getElementById('browser').textContent = `Browser: ${getBrowserInfo(ua)}`;
  document.getElementById('os').textContent = `OS: ${getOSInfo(ua)}`;
  document.getElementById('user-agent').textContent = `User-Agent: ${ua}`;

  appendInfo("Emulated Device Model", detectEmulatedDevice(ua));
  appendInfo("Touch Support", touchSupport ? "Yes" : "No");
  appendInfo("Screen Pixel Ratio", devicePixelRatio);
  appendInfo("Orientation", orientation);
  appendInfo("Pointer Type", coarsePointer ? "Coarse (touch)" : "Fine (mouse)");
  appendInfo("Hover Support", hoverCapable ? "Yes" : "No");
  appendInfo("Dark Mode Preferred", prefersDark ? "Yes" : "No");
</script>
